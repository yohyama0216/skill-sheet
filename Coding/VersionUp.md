# 5系から７系にバージョンアップする時のまとめ

まだ5系が動いているらしく、バージョンアップする必要があったのでまとめた

## 公式ドキュメントをみる
公式に[PHP 5.6.x から PHP 7.0.x への移行]というのがあるので見る。
https://www.php.net/manual/ja/migration70.php

### 下位互換性のない変更点,PHP 7.0.x で推奨されなくなる機能,変更された関数,削除された拡張モジュールおよび SAPI

#### 関数の調査
挙動が変わっている関数については、ソースコード上でその関数が使われているか探す。
使われている箇所があればif文を追加して、予想外の値は入らないように処理するなどで対処。

#### 新機能、新しい関数など
やりたいことはバージョンアップだけなので実施しない

#### モンキーテストログを見る
モンキーテストを実施。そしてWARNING,ERRORなどが出ていれば対処する

## 使用しているライブラリの調査
使用しているライブラリがPHP7に対応しているか、ライブラリの公式HPを見て確認
対応してなかったら、工数が発生する可能性高いので注意。

## 機能一覧の実施
機能一覧にしたがってテストを実施。特に重要機能（ECサイトならば商品購入とか）周りのCRUDは重点的に行う。

## ユニットテスト, 静的解析の実施
PHPUnit,Phanを動かし、問題なく終了することを確認する。

## まとめ
公式ドキュメントに沿っていれば、大体OKなはず